<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body >
 
  <div class="d-flex justify-content-center">

    <div class="container" style="padding: 40px; ">

      <form action="/addNewJob" method="post">
        
        <div class="input-group mb-3 input-group-sm">
            <span class="input-group-text">jobId</span>
            <input name="jobId" type="text" class="form-control" value="<%= requiredData.uniquejobId %>">
          </div>

   
 



          <div class=" mb-3 dropdown input-group-sm">
            <input name="CompanyName" type="text" id="dropdown-input" class="form-control dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" placeholder="Type to search..." autocomplete="off">
            <ul id="dropdown-menu" class="dropdown-menu" aria-labelledby="dropdown-input" style="max-height: 200px; overflow-y: auto;">
              <!-- Dropdown items are already populated from your server -->
              <% requiredData.uniqueCompanyNames.forEach(element => { %>
                <li class="dropdown-item" value="<%=element%>" title="<%=element%>"><%=element%></li>
              <% }); %>
            </ul>
          </div>




          <div class="input-group mb-3 input-group-sm">
            <span class="input-group-text">jobTitleA</span>
            <input type="text" class="form-control" name="jobTitleA" value="Accenture looking for Tester with 5+ years of experience" required>
          </div>

          <div class="input-group mb-3 input-group-sm">
            <span class="input-group-text">jobTitleB</span>
            <input type="text" class="form-control" name="jobTitleB" value="Accenture hiring for Tester with java automation skills" required>
          </div>
          
          <div class="input-group mb-3 input-group-sm">
            <span class="input-group-text">role</span>
            <input type="text" class="form-control" name="role" required>
          </div>

    

          <div class="mt-3  border border-dark border-3 p-3">
            <label class="me-3">jobExperience</label> <!-- Label in front of checkboxes -->

            <div class="mt-3 align-items-center d-flex flex-wrap">

            <div class="form-check me-3">
              <input type="checkbox" class="form-check-input" id="checkjobExperience" name="jobExperience" value="0">
              <label class="form-check-label" for="checkjobExperience">Fresher (less than 1 year)</label>
            </div>


            <% for(let j=1;j<=14;j++){ %>

            <div class="form-check me-3">
              <input type="checkbox" class="form-check-input" id="checkjobExperience" name="jobExperience" value="<%=j%>">
              <label class="form-check-label" for="checkjobExperience"><%=j%></label>
            </div>


            <%  } %>
            

            <div class="form-check me-3">
              <input type="checkbox" class="form-check-input" id="checkjobExperience" name="jobExperience" value=15>
              <label class="form-check-label" for="checkjobExperience">15+ years</label>
            </div>
 
 
          </div>
          
          </div>
          




          <div class="mt-3  border border-dark border-3 p-3">
            <label class="me-3">jobLocation</label> <!-- Label in front of checkboxes -->
            
            <div class="mt-3 align-items-center d-flex flex-wrap">
            <% requiredData.uniqueJobLocations.forEach(element => { %>

            <div class="form-check me-3">
              <input type="checkbox" class="form-check-input" id="checkjobLocation" name="jobLocation" value="<%=element%>">
              <label class="form-check-label" for="checkjobLocation"><%=element%></label>
            </div>
              
            <%  }); %>

          </div>
 
          </div>
          
          
          <div class="mb-3 mt-3 border border-dark border-3 p-3">
            <label for="skills" class="form-label">Skills:</label>
            <div class="row g-2">
                <div class="col">
                    <input type="text" class="form-control" name="skills[]" placeholder="Skill 1">
                </div>
                <div class="col">
                    <input type="text" class="form-control" name="skills[]" placeholder="Skill 2">
                </div>
                <div class="col">
                    <input type="text" class="form-control" name="skills[]" placeholder="Skill 3">
                </div>
                <div class="col">
                    <input type="text" class="form-control" name="skills[]" placeholder="Skill 4">
                </div>
                <div class="col">
                    <input type="text" class="form-control" name="skills[]" placeholder="Skill 5">
                </div>
                <div class="col">
                    <input type="text" class="form-control" name="skills[]" placeholder="Skill 6">
                </div>
            </div>
        </div>




 


          <div class="mb-3 mt-3 d-flex align-items-center flex-wrap border border-dark border-3 p-3">
            <label class="me-3">Select Option</label> <!-- Label in front of radio buttons -->
            
            <div class="form-check me-3">
              <input type="radio" class="form-check-input" id="radio1" name="applyOption" value="Email" checked>
              <label class="form-check-label" for="radio1">Email</label>
            </div>
            <div class="form-check me-3">
              <input type="radio" class="form-check-input" id="radio2" name="applyOption" value="Link">
              <label class="form-check-label" for="radio2">Link</label>
            </div>
            <div class="form-check me-3">
              <input type="radio" class="form-check-input" id="radio2" name="applyOption" value="None">
              <label class="form-check-label" for="radio2">None</label>
            </div>
          </div>

          



          <div class="input-group mb-3 input-group-sm">
            <span class="input-group-text">email/link</span>
            <input type="text" class="form-control" name="apply" required>
          </div>


          <div class="input-group mb-3 d-none" >
            <span class="input-group-text">date</span>
            <input type="text" class="form-control" id="dateInput" name="date">
          </div>


          <div class="input-group mb-3 d-none">
            <span class="input-group-text">Pdate</span>
            <input type="text" class="form-control" id="pdateInput" name="Pdate">
          </div>

          <div class="input-group mb-3 input-group-sm">
            <span class="input-group-text">Salary</span>
            <input name="Salary" type="text" class="form-control" value="NOT DISCLOSED">
          </div>



          <label class="me-3">jobDesc</label>

          <textarea id="textarea" name="jobDesc" rows="10" cols="30" required></textarea>
  
          <br><br>
          <input type="submit" value="submit">

        </form>

          
    </div>


  </div>



    <script>
        function setTodayDate() {
          const today = new Date();
          const formattedDate = today.toISOString().split('T')[0]; // YYYY-MM-DD format
          document.getElementById('dateInput').value = formattedDate;
        }
      
        function setFormattedDate() {
          const today = new Date();
          const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
          const month = monthNames[today.getMonth()];
          const day = String(today.getDate()).padStart(2, '0');
          const year = today.getFullYear();
          const formattedDate = `${month} ${day}, ${year} 11:59 pm`;
          document.getElementById('pdateInput').value = formattedDate;
        }
      

        // Function to process and display text
function processText() {
    // Get the textarea element
    const textarea = document.getElementById('textarea');
    // Get the value of the textarea
    let text = textarea.value;
    // Replace new line characters with spaces
    text = text.replace(/\r?\n|\r/g, '');
    // Set the processed text to the output div
    document.getElementById('textarea').value = text;
}

// Add event listener to the textarea
document.getElementById('textarea').addEventListener('input', processText);

 
 





        window.addEventListener('load', setTodayDate);
        window.addEventListener('load', setFormattedDate);





        const dropdownInput = document.getElementById('dropdown-input');
const dropdownMenu = document.getElementById('dropdown-menu');
const listItems = Array.from(dropdownMenu.getElementsByTagName('li'));

dropdownInput.addEventListener('input', function() {
  const filter = dropdownInput.value.toLowerCase();
  let filteredItems = listItems
    .filter(item => item.textContent.toLowerCase().includes(filter))
    .sort((a, b) => a.textContent.localeCompare(b.textContent))  // Sort alphabetically
    .slice(0, 5);  // Limit to 5 items

  dropdownMenu.innerHTML = ''; // Clear previous items

  filteredItems.forEach(item => {
    item.style.display = 'block';
    dropdownMenu.appendChild(item);
  });

  if (filteredItems.length === 0) {
    dropdownMenu.style.display = 'none';  // Hide if no matches
  } else {
    dropdownMenu.style.display = 'block'; // Show filtered results
  }
});

listItems.forEach(item => {
  item.addEventListener('click', function() {
    dropdownInput.value = this.textContent;
    dropdownMenu.style.display = 'none'; // Close the dropdown after selection
  });
});

document.addEventListener('click', function(e) {
  if (!dropdownInput.contains(e.target) && !dropdownMenu.contains(e.target)) {
    dropdownMenu.style.display = 'none'; // Close the dropdown if clicked outside
  }
});

dropdownInput.addEventListener('focus', function() {
  dropdownMenu.style.display = 'block'; // Show the dropdown when input is focused
});







      </script>
      
    
</body>
</html>
